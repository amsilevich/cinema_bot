## Cinema Telegram Bot

Бот-помощник, который по названию фильма ищет год выпуска, описание, а также ресурсы, на которых этот фильм можно посмотреть.
Сохраняет в себе статиcтику и историю просмотра для каждого пользователя, к которой можно в любой момент обратиться.

Ник бота в Telegram: [@chopx_cinema_bot](https://t.me/chopx_cinema_bot)

### Команды
1. **/help**, **/start** - получить инструкцию, как пользоваться ботом.
2. **/stats** - статистика запросов пользователя. Бот выведет какие фильмы и сколько раз он уже показывал.
3. **/history** - история поиска пользователя. Выводит, какие запросы приходили от пользователя.
4. Любой введенный текст будет воспринимать как название фильма, который пользователь хочет найти.

### Стороннее API

Бот использует следующее стороннее API:

* [KinopoiskAPI](https://kinopoiskapiunofficial.tech/) - для поиска информации о фильме бот использует
* [GoogleSearchAPI](https://developers.google.com/webmaster-tools) - для поиска ссылок на ресурсы, где можно посмотреть фильм


### Хранилище и расположение

Бот расположен на одном из серверов облачного сервиса [YandexCloud](https://cloud.yandex.ru/).
Для хранения данныx он использует базу данных на основе [SQLite](https://www.sqlite.org/index.html).

### Асинхронность

Все операции обращения к базе данных, а также в сторонние сервисы, являются асинхронными
Библиотеки, которые для этого используются: **aiosqlite**, **aiohttp**, **aiogram**, **asycio**

### Логика работы

#### Бот работает по следующему алгоритму:

##### Поиск фильма: 

* Сохранение запроса пользования в базе данных
* Обращение к Кинопоиску, поиск основной информации по фильму
* В случае, если фильм нашелся, сохранение фильма в базе данных
* Поиск ссылок просмотра через Google Search

##### /help и /stats:
* Обращение к базе данных
* Вывод ответа, если в базе есть информация по данному пользователю